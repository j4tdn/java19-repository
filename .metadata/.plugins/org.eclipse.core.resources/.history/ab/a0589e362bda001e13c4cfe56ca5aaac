package dao;

import java.time.LocalDateTime;
import java.util.List;

import persistence.dto.ItemByDateDto;
import persistence.dto.ItemDetailDto;
import persistence.entities.Item;

public class HibenateItemDao extends BaseHibernateDao implements ItemDao {

	private static final String Q_GET_ALL_ITEMS = "SELECT * FROM item";
	private static final String Q_GET_ITEMS_BY_DATE = ""
			+ "select i.id " + ItemByDateDto.PROP_IG_ID + ",\n"
			+ "i.name " + ItemByDateDto.PROP_IG_NAME + ",\n"
			+ "o.created_at " + ItemByDateDto.PROP_CREATED_AT + ",\n"
			+ "from \n"
			+ "	`order` o join `order_detail` od on o.id = od.order_id \n"
			+ "	join `item_detail` id on od.item_detail_id = id.id \n"
			+ "	join `item` i on id.item_id = i.id \n"
			+ "ORDER BY \n"
			+ "where o.created_at = :pDate"; 

	@Override
	public List<Item> getAll() {
		return openSession().createNativeQuery(Q_GET_ALL_ITEMS, getEntityClass()).getResultList();
	}

	private Class<Item> getEntityClass() {
		return Item.class;
	}

	@Override
	public List<Item> getItemByDate(LocalDateTime localDateTime) {
		
		return null;
	}

}
